:root{
    --bg: #121212;             /* 黑色主背景 */
    --card: #1E1E1E;           /* 卡片深灰背景 */
    --card-border: #2A2A2A;    /* 卡片邊界 */
    --text: #F5F5F5;           /* 主文字白 */
    --muted: #B0B0B0;          /* 副文字灰 */
    --accent: #C6A98A;         /* 木頭色 */
    --accent-light: #E8DCC8;   /* 奶灰木色（可選） */
    --shadow: 0 6px 18px rgba(0,0,0,0.5);
    --radius: 14px;
  }
  
  
  
  
  *,
  *::before,
  *::after{
    box-sizing:border-box;
  }
  
  html,body{
    height:100%;
  }
  
  body{
    margin:0;
    font-family: -apple-system, "BlinkMacSystemFont","Noto Sans TC","Helvetica Neue", Arial;
    background: var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    padding-bottom: 88px;
  }
  
  
  code{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size:12px;
    background:rgba(0,0,0,0.03);
    padding:2px 4px;
    border-radius:4px;
  }
  
  /* App layout */
  .app{
    max-width:960px;
    margin:0 auto;
    padding:20px 16px 96px;
  }
  
  /* Header */
  .app-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:16px;
  }
  
  .app-title{
    font-size:20px;
    font-weight:800;
    color:var(--accent);
    display:flex;
    align-items:center;
    gap:6px;
  }
  
  .app-title span{
    font-size:22px;
  }
  
  /* Tabs */
  .app-nav{
    display:flex;
    gap:6px;
    background:rgba(255,255,255,0.95);
    padding:4px;
    border-radius:999px;
    box-shadow:var(--shadow);
  }
  
  .nav-tab{
    border:none;
    background:transparent;
    padding:6px 12px;
    border-radius:999px;
    font-size:13px;
    cursor:pointer;
    color:var(--muted);
    font-weight:600;
    white-space:nowrap;
  }
  
  .nav-tab.active{
    background: var(--accent);   /* 一樣用綠 */
    color:#fff;
  }
  
  /* Pages */
  .page{
    display:none;
  }
  
  .page.active{
    display:block;
  }
  
  /* Hero */
  .hero{
    background: #FFFDF7;   /* 很淺的米白，可換成 var(--pink-light) */
    border-radius: var(--radius);
    padding:16px 18px;
    display:flex;
    gap:16px;
    align-items:flex-start;
    justify-content:space-between;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255,255,255,0.9);
  }
  
  
  .hero-right{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap:8px;
  }
  
  
  .hero-left{
    flex:1;
  }
  
  .trip-title{
    font-size:18px;
    font-weight:700;
    color:var(--accent);
  }
  
  .trip-sub{
    font-size:13px;
    color:var(--muted);
    margin-top:4px;
  }
  
  /* 地點選擇 */
  .location-control{
    font-size:12px;
    color:var(--muted);
    display:flex;
    align-items:center;
    gap:6px;
    /* 不要再加 margin-top，這樣選單就緊貼在泡泡上面 */
  }
  
  
  .location-control select{
    border-radius:999px;
    border:1px solid rgba(0,0,0,0.08);
    padding:4px 10px;
    font-size:12px;
    background:#fffdfc;
  }
  
  /* Weather bubble */
  .today-bubble{
    min-width:120px;
    text-align:center;
    background:linear-gradient(180deg, #fff, #f8f1ee);
    border-radius:14px;
    padding:10px 12px;
    box-shadow: 0 10px 22px rgba(0,0,0,0.12);
    border:1px solid rgba(255,255,255,0.9);
  }
  
  .today-bubble .date{
    font-weight:700;
    font-size:14px;
    color:var(--accent);
  }
  
  .today-bubble .temp{
    font-size:12px;
    color:var(--muted);
    margin-top:4px;
  }
  
  /* Buttons */
  .controls{
    display:flex;
    gap:8px;
    margin-top:12px;
    align-items:center;
    flex-wrap:wrap;
  }
  
  .btn{
    background: #1F1F1F;
    border: 1px solid #2F2F2F;
    color: var(--text);
    padding:8px 12px;
    border-radius:999px;
    box-shadow: var(--shadow);
    cursor:pointer;
    font-weight:600;
    font-size:13px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:4px;
  }
  
  .btn.primary{
    background: var(--accent);   /* 純綠 */
    color: #262626;
    font-weight: 700;
    border:none;
  }
  
  .btn.ghost{
    background:transparent;
    border:1px dashed rgba(0,0,0,0.12);
    box-shadow:none;
  }
  
  .btn-full{
    width:100%;
  }
  
  /* Editor area */
  .editor{
    margin-top:16px;
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap:10px;
  }
  
  .field{
    background:var(--card);
    padding:10px 10px 12px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,0.03);
    box-shadow: var(--shadow);
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  
  .field label{
    font-weight:700;
    font-size:13px;
  }
  
  .field input,
  .field select,
  .field textarea{
    border-radius:8px;
    border:1px solid rgba(0,0,0,0.08);
    padding:7px 8px;
    font-size:14px;
    outline:none;
    background: #1A1A1A;
    color: var(--text);
    border: 1px solid #2A2A2A;
  }
  
  .field input:focus,
  .field select:focus,
  .field textarea:focus{
    border-color:rgba(201,123,132,0.7);
    box-shadow:0 0 0 1px rgba(201,123,132,0.18);
  }
  
  .field--wide input + input{
    margin-top:6px;
  }
  
  .field--button{
    align-self:stretch;
    justify-content:flex-end;
  }
  
  /* Days nav */
  .days{
    display:flex;
    gap:8px;
    margin-top:18px;
    overflow:auto;
    padding-bottom:6px;
  }
  
  .day-btn{
    padding:8px 12px;
    border-radius:999px;
    background: #1a1a1a;
    color: var(--muted);
    border: 1px solid #2a2a2a;
    cursor:pointer;
    min-width:120px;
    text-align:center;
    font-size:13px;
  }
  
  .day-btn.active{
    background: #252525;
    border: 1px solid var(--accent);
    color: var(--accent);
    box-shadow: var(--shadow);
    font-weight:700;
  }
  
  /* Timeline */
  .timeline{
    margin-top:16px;
  }
  
  .drop-hint{
    color:var(--muted);
    font-size:12px;
    margin-bottom:6px;
  }
  
  .empty-hint{
    color:var(--muted);
    font-size:13px;
    padding:12px 14px;
    background:var(--card);
    border-radius:14px;
    border:1px dashed rgba(0,0,0,0.08);
  }
  
  /* Card */
  .card{
    background: var(--card);
    border-radius: 16px;
    padding:10px 12px;
    margin-bottom:12px;
    border: 1px solid var(--card-border);
    box-shadow: var(--shadow);
    border:1px solid rgba(255,255,255,0.9);
    display:flex;
    gap:8px;
    align-items:flex-start;
  }
  
  .card--list{
    align-items:flex-start;
  }
  
  /* Drag handle (Notion style) */
  .card-handle{
    width:14px;
    flex-shrink:0;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:grab;
    user-select:none;
    touch-action:none;
    color:rgba(0,0,0,0.25);
  }
  
  .card-handle::before{
    content:"";
    width:4px;
    height:18px;
    border-radius:999px;
    background-image: radial-gradient(currentColor 1px, transparent 1px);
    background-size:4px 4px;
    background-repeat:repeat-y;
    background-position:center;
  }
  
  .card-handle:active{
    cursor:grabbing;
  }

  .card-details{
    display:none;
    margin-top:8px;
    padding:8px 10px;
    border-radius:12px;
    background: #242424;
    border: 1px dashed #444;
    color: var(--muted);
    font-size:12px;
  }
  
  .card-details.open{
    display:block;
  }
  
  .detail-row{
    display:flex;
    gap:6px;
    margin-bottom:4px;
  }
  
  .detail-label{
    flex-shrink:0;
    min-width:72px;
    font-weight:600;
    color:var(--accent);
  }
  
  
  /* 給航班 / 住宿用的假握把（只為了視覺對齊，不可拖曳） */
  .fake-handle{
    cursor:default;
  }
  
  .fake-handle::before{
    opacity:0.3;
  }
  
  /* Icon & content */
  .icon{
    width:34px;
    height:34px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(180deg,#fff,#f7f3ef);
    border:1px solid rgba(255,255,255,0.9);
    font-size:18px;
    flex-shrink:0;
  }
  
  .body{
    flex:1;
  }
  
  /* Title + time pill */
  .title-row{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    color: var(--text);
    gap:8px;
    margin-bottom:4px;
  }
  
  .title{
    font-weight:700;
    font-size:14px;
  }
  
  .time-pill{
    font-size:11px;
    padding:3px 8px;
    border-radius:999px;
    background:var(--accent-soft);
    color:var(--accent);
    white-space:nowrap;
  }
  
  /* Meta & actions */
  .meta{
    color:var(--muted);
    font-size:13px;
    margin-bottom:4px;
  }
  
  .meta--small{
    font-size:12px;
  }
  
  .actions{
    display:flex;
    flex-wrap:wrap;
    gap:6px;
    margin-top:6px;
  }
  
  .link-btn{
    background:rgba(255,255,255,0.95);
    border:none;
    color:var(--accent);
    font-weight:600;
    cursor:pointer;
    font-size:12px;
    padding:5px 10px;
    border-radius:999px;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
  }
  
  .link-btn.danger{
    color:#b75a5a;
  }
  
  /* Section card (for flights & stays) */
  .section-card{
    background:rgba(255,255,255,0.96);
    border-radius:var(--radius);
    padding:16px 16px 14px;
    box-shadow:var(--shadow);
    border:1px solid rgba(255,255,255,0.9);
    margin-bottom:14px;
  }
  
  .section-header h2{
    margin:0 0 4px;
    font-size:16px;
  }
  
  .section-header p{
    margin:0;
    font-size:13px;
    color:var(--muted);
  }
  
  .section-body{
    margin-top:10px;
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  
  .section-body input[type="file"]{
    font-size:13px;
  }
  
  .section-hint{
    margin:0;
    font-size:12px;
    color:var(--muted);
  }
  
  /* Modal */
  .modal-bg{
    position:fixed;
    left:0;
    top:0;
    width:100%;
    height:100%;
    background: rgba(0,0,0,0.35);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:90;
  }
  
  .modal{
    width:92%;
    max-width:760px;
    background:white;
    padding:16px 16px 14px;
    border-radius:16px;
    box-shadow: 0 20px 60px rgba(10,10,10,0.35);
  }
  
  .modal .header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
  }
  
  .modal-actions{
    display:flex;
    gap:8px;
  }
  
  .modal textarea{
    width:100%;
    min-height:260px;
    margin-top:12px;
    padding:10px;
    border-radius:10px;
    border:1px solid rgba(0,0,0,0.1);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size:12px;
    background:#fffdf8;
  }
  
  /* Misc */
  .spacer{
    height:80px;
  }
  
  /* Responsive */
  @media (max-width:640px){
    .app-header{
      flex-direction:column;
      align-items:flex-start;
    }
  
    .hero{
      flex-direction:column;
    }
  
    .today-bubble{
      align-self:flex-end;
    }
  
    .title-row{
      flex-direction:column;
      align-items:flex-start;
    }
  }
  
  /* 在淺色背景區塊上，用比較深的字色 */

/* Hero 整塊 + 內文文字 */
.hero{
    color: #2A2A2A;
  }
  .hero .trip-title{
    color: #2A2A2A;        /* 標題更扎實一點 */
  }
  .hero .trip-sub{
    color: #666666;        /* 副標用中灰 */
  }
  
  /* 上方 tabs 裡的文字（淺底時要深一點） */
  .app-nav{
    color: #2A2A2A;
  }
  .nav-tab{
    color: #555555;
  }
  .nav-tab.active{
    color: #FFFFFF;        /* 目前的白字在木頭色底上是 OK 的，就維持 */
  }
  
  /* 航班 / 住宿那種大塊白底卡片 */
  .section-card{
    color: #2A2A2A;
  }
  .section-card .section-header h2{
    color: #2A2A2A;
  }
  .section-card .section-header p,
  .section-card .section-hint{
    color: #666666;
  }
  
  /* 匯出 JSON 的 modal 也是白底 → 字改深灰 */
  .modal{
    color: #2A2A2A;
  }
  .modal .header h3{
    color: #2A2A2A;
  }
  .modal textarea{
    color: #2A2A2A;
  }
  
